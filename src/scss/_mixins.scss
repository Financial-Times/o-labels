
/// Outputs all available features and styles for labels.
///
/// @param {List} $sizes - The label size variants to output styles for.
/// @param {List} $states - The label state variants to output styles for.
/// @output The output includes the `.o-labels` class definition as well as class definitions for every variant.
/// @example scss - All label styles
///   @include oLabels();
/// @example scss - Base styles, big size variant, and gold tier state variant
///   @include oLabels(('big'), ('tier-gold'));
/// @access public
@mixin oLabels($sizes: $_o-labels-sizes, $states: $_o-labels-states) {

	// Base label styles
	@include _oLabelsBase();

	// Label size variants
	@each $size in $_o-labels-sizes {
		@if index($sizes, $size) and _oLabelsSupports($size) {
			@include _oLabelsSize($size);
		}
	}

	// Label state variants
	@each $state in $_o-labels-states {
		@if index($states, $state) and _oLabelsSupports($state) {
			@include oLabelsState($state);
		}
	}
}

/// Base styles for labels.
///
/// @output The output includes the `.o-labels` class definition and all styles for a basic label.
/// @example scss - Base label styles
///   @include _oLabelsBase();
/// @access private
@mixin _oLabelsBase() {
	.o-labels {
		@include oTypographySans($scale: _oLabelsGet('font-scale'), $line-height: 1em);
		font-weight: 500;
		text-align: center;
		display: inline-block;
		box-sizing: border-box;
		margin: 0;
		text-decoration: none;
		text-transform: uppercase;
		padding: (_oLabelsGet('padding-vertical') - _oLabelsGet('border-width')) (_oLabelsGet('padding-horizontal') - _oLabelsGet('border-width'));
		color: _oLabelsGet('text-color');
		background-color: _oLabelsGet('background-color');
		border: solid _oLabelsGet('border-width') transparent;
	}
}

/// Size modifiers for labels.
///
/// @param {String} $size - The label size to output styles for. The valid sizes are `big` and `small`.
/// @output The output includes the `.o-labels--SIZE` modifier class definition, which includes all overrides.
/// @example scss - Big label styles
///   @include _oLabelsSize('big');
/// @access private
@mixin _oLabelsSize($size) {
	.o-labels--#{$size} {
		// We use the scale and set font size manually to rely on the cascade rather
		// than repeating the font family and line height from the main label class
		@if _oLabelsGet('font-scale', $size) {
			// TODO is there a nicer way to get this number?
			font-size: nth(oTypographyGetScale(_oLabelsGet('font-scale', $size)), 1) * 1px;
		}
		padding: (_oLabelsGet('padding-vertical', $size) - _oLabelsGet('border-width')) (_oLabelsGet('padding-horizontal', $size) - _oLabelsGet('border-width'));
	}
}

/// State modifiers for labels.
///
/// @param {String|Map} $state-name - The label state to output styles for. See README for available states.
/// @param {Map} $variant [null] - A brand variant configuration which can be used to create custom label states. See README for more examples.
/// @output The output includes the `.o-labels--STATE` modifier class definition, which includes all overrides.
/// @example scss - Existing label state
///   @include oLabelsState('tier-gold');
/// @example scss - Custom label state
///   @include oLabelsState('citrus-fruit', (
///       background-color: oColorsGetPaletteColor('lemon')
///   ));
/// @access public
@mixin oLabelsState($state-name, $variant: null) {

	// If we have a custom config, we use that instead of one of the
	// preconfigured states
	$variant: if($variant, $variant, $state-name);

	.o-labels--#{$state-name} {
		background-color: _oLabelsGet('background-color', $variant);
		border-color: _oLabelsGet('border-color', $variant);

		// Set text colour or calculate based on background
		@if _oLabelsGet('text-color', $variant) {
			color: _oLabelsGet('text-color', $variant);
		} @else {
			color: oColorsGetTextColor(_oLabelsGet('background-color', $variant), 100);
		}
	}
}
